<!DOCTYPE html>
<html lang="{{ with .Site.LanguageCode }}{{ . }}{{ else }}en-US{{ end }}">
<head>
<meta charset="utf-8">

{{ partial "html/head/meta.html" . }}
{{- partial "html/head/style.html" (dict "context" . "css" "css/style.css") -}}
{{- partial "html/head/script.html" (dict "js" (partial "html/head/iiif-js.html" .)) -}}

<title>{{ with .Title }}{{.}} - {{ end }}{{ .Site.Title }}</title>
</head>
{{- $class := "" -}}
{{- if hasPrefix .Page.File.Path "about" -}}
    {{- $class = "about" -}}
{{- end -}}
{{- if .Params.metaPage -}}
    {{- $class = printf "%s %s" $class "meta" -}}
{{ end }}
<body class="{{ $class }}">

<header>
  <div class="container clearfix">
    <a class="path" href="{{ .Site.BaseURL }}">[{{ .Site.Title }}]</a>
    <span class="caret"># _</span>
    <div class="right">
        {{/* TODO: Replace with menu.html */}}
        {{ range .Site.Menus.main }}
              <a class="path" href="{{ .URL | absURL }}">{{ .Name }}</a>
        {{ end }}
        <div class="top-menu menu-seperator"></div>
        {{- if .Site.IsMultiLingual -}}
            {{ if .IsHome }}
                {{- range .Site.Home.AllTranslations -}}
                    {{- if (ne $.Site.Language .Language) -}}
                        <div class="lang-switcher lang home">
                            <a href="{{ .Permalink }}">{{ .Language.LanguageName }}</a>
                        </div>
                     {{- end -}}
                 {{- end -}}
            {{- else -}}
                {{- range .Translations -}}
                    <div class="lang-switcher lang">
                        <a href="{{ .Permalink }}">{{ .Language.LanguageName }}</a>
                    </div>
                {{ else }}
                    <div class="lang-switcher lang disabled">
                        <span> {{ i18n (partialCached "functions/i18n/default-lang" .) }}</span>
                    </div>
                {{- end -}}
            {{- end -}}

        {{ end }}
    </div>
  </div>
</header>

<div class="container">
