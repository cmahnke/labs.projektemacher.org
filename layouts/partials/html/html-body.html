{{- $fileName := "" -}}
{{- if .Params -}}
    {{- if .Params.src -}}
        {{- $fileName = .Params.src -}}
    {{- end -}}
    {{- $fileName = path.Join .File.Dir $fileName -}}
{{ else if .Get "src" }}
    {{- $fileName = .Get "src" -}}
    {{- $path := "" -}}
    {{- if .Get "context" -}}
        {{- $path = .Get "context" -}}
    {{- end -}}
    {{- if .Get "ctx" -}}
        {{- $path = .Get "ctx" -}}
    {{- end -}}
    {{- $fileName = path.Join $path $fileName -}}
{{- end -}}

{{- $content := "" -}}
{{- if fileExists $fileName -}}
    {{- $content = readFile $fileName -}}
{{- else -}}
    {{- errorf "Can't find %s!" $fileName -}}
{{- end -}}

{{- $content = replaceRE "(?s).*?<body.*?>(.*)</body>.*" "$1" $content -}}

{{ if $content }}
    {{ $content | safeHTML }}
{{- else -}}
    {{- errorf "%s is either empty!" $fileName -}}
{{- end -}}
