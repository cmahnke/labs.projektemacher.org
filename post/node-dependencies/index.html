<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="utf-8">
<meta http-equiv="Content-Language" content="de">

<meta name="description" content="Experimental blogs">
<meta property="og:type" content="article" /><meta property="og:url" content="https://labs.projektemacher.org/post/node-dependencies/" /><meta property="og:title" content="Node Abhängigkeiten aus Themes" />

  
  
    
  



<meta name="keywords" content=", Hugo, Themes, Node">
<meta name="generator" content="Hugo 0.152.1">
<meta name="projektemacher.org:build-date" content="2025-10-24 23:45:59.999633593 &#43;0000 UTC m=&#43;1.731594661"><meta name="projektemacher.org:stats" content="{&#34;count&#34;:&#34;117&#34;,&#34;latest&#34;:&#34;2024-01-01T12:30:07&#43;02:00&#34;}">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=no, minimal-ui">


<meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
<link href="https://labs.projektemacher.org/css/de98a9243dac78c60665e2bf5939c8f8.min.fd72d1d24b96284b0baf5cabf8c1ae6bebdb6dfe7f56998de761dbe7aaff9536.css" rel="stylesheet" integrity="sha256-/XLR0kuWKEsLr1yr&#43;MGua&#43;vbbf5/VpmN52Hb56r/lTY=">
<script src="https://labs.projektemacher.org/js/5d85c20c8f862f9ecfa0aee0edbc8fe4.min.af9dc85849dc77eb4b89745846a5494ebf4977c062e902ff5abf456fa6b37e97.js" integrity="sha256-r53IWEncd+tLiXRYRqVJTr9Jd8Bi6QL/Wr9Fb6azfpc="></script>
<title>Node Abhängigkeiten aus Themes - Projektemacher Labs</title>
</head><body class="">

<header>
  <div class="container clearfix">
    <a class="path" href="https://labs.projektemacher.org/">[Projektemacher Labs]</a>
    <span class="caret"># _</span><nav class="top top-menu">
    <input type="checkbox" id="menu-toggle" />
    <label class="menu-button float-right" for="menu-toggle"><i class="menu-icon"></i></label>
    <ul class="navigation-list"><li class="navigation-item navto-future"><a class="navigation-link" href="https://labs.projektemacher.org/future" title="Geplante Blogs">Geplante Blogs<i class="link-icon"></i></a></li><li class="navigation-item navto-about"><a class="navigation-link" href="https://labs.projektemacher.org/about/" title="Über">Über<i class="link-icon"></i></a></li><li class="navigation-item lang">
              <a href="https://labs.projektemacher.org/en/post/node-dependencies/" title="English">English</a>
            </li></ul>
  </nav></div>
</header>

<div class="container">
    <main role="main" class="article">
      <article class="single " itemscope itemtype="http://schema.org/BlogPosting">
  <div class="meta">



    <br>
    <span class="key">tags:</span>
    <span class="val">

        <a href="https://labs.projektemacher.org/tags/Hugo">Hugo</a>

        <a href="https://labs.projektemacher.org/tags/Themes">Themes</a>

        <a href="https://labs.projektemacher.org/tags/Node">Node</a>

    </span>

  </div>
  <h1 class="headline" itemprop="headline">Node Abhängigkeiten aus Themes</h1>
  <section class="body" itemprop="articleBody"><p>Mit dem <a href="https://labs.projektemacher.org/post/recent-hugo-version/">Upgrade auf eine Hugo version auf über 0.75.0</a> besteht die Möglichkeit das Kommando <code>[hugo mod npm pack](https://gohugo.io/commands/hugo_mod_npm_pack/)</code> zu verwenden um die Node Abhängigkeiten eines Themes mit denen eines Projektes zusammenzuführen.</p>
<p>Dafür müssen die Abhängigkeiten eines Themes in einer Datei <code>package.hugo.json</code> statt <code>package.json</code> gesichert sein, es reicht einfach die von <code>npm</code> oder <code>yarn</code> angelegte Datei umzubenennen. Ein Symlink alleine funktioniert nicht, da Hugo&rsquo;s virtuelles Dateisystem Symlinks nicht mag.</p>
<p>Wenn es nur darum geht die Abschnitte <code>dependencies</code> und <code>devDependencies</code> zusammenzuführen klappt das auch sehr gut. Wenn man allerdings noch spezielle Scripte (Abschnitt <code>scripts</code> in <code>package.json</code>) definiert hat, z.B. um bestehende Node Bibliotheken anzupassen, hilft das ganze nicht wirklich weiter, da diese Abschnitte (und alle anderen, die nicht explizit Abhängigkeiten definieren) bei der Zusammenführung ignoriert.</p>
<p>Dazu gibt es auch ein <a href="https://github.com/gohugoio/hugo/issues/8319" target="_blank">Hugo Feature Request</a>, allerdings ist noch nicht ganz klar ob und wenn ja, wann dieser umgesetzt wird.</p>
<p>Bis dahin muss man sich selber Scripte basteln, die das mit Hilfe von <a href="https://stedolan.github.io/jq/" target="_blank"><code>jq</code></a> erledigen.</p>
<p>Ein Beispiel für zwei Dateien:</p>
<pre tabindex="0"><code>jq -s &#39;.[0] * .[1]&#39;  package.hugo.json themes/some-hugo-theme-with-npm-dependencies/package.hugo.json
</code></pre><p>Ein Beispiel für mehrere Themes (funktioniert nur mit BSD <code>find</code>, nicht auf GitHub):</p>
<pre tabindex="0"><code>find . -name &#34;package.hugo.json&#34; -o -name &#34;package.json&#34; -depth 0 | xargs jq -s add &gt; package.json
</code></pre>
  </section>
</article>

    </main>
</div>
<footer>
  <div class="footer-container">
    <p class="projektemacher">
        Projektemacher Labs ist ein <a href="https://projektemacher.org/">Projektemacher</a> Blog <a title="Christian Mahnke" class="footer-link-cm" href="https://christianmahnke.de/"><img src="https://labs.projektemacher.org/images/cm.svg" style="height: 16px; margin-left: .5rem;"></a>
    </p><p class="copyright">&copy; MMXXI - MMXXV <a href="https://labs.projektemacher.org">Projektemacher Labs</a></p><p class="privacy"><a href="https://labs.projektemacher.org/privacy" title="Datenschutzerklärung">Datenschutzerklärung</a></p></div>

</footer>

</body>
</html>

